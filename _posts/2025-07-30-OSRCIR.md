---
layout: post
title: "ğŸ§  OSrCIR: Reason-before-Retrieve for Composed Image Retrieval"
author: [DrFirst]
date: 2025-07-30 09:00:00 +0900
categories: [AI, Research]
tags: [MLLM, CIR, Image Retrieval, CVPR 2025, Reasoning, One-Stage, CVPR, CVPR 2025 ]
sitemap :
  changefreq : monthly
  priority : 0.8

---

---


### ğŸ§  (í•œêµ­ì–´) OSrCIR: Reason-before-Retrieve ë¸”ë¼ë¸”ë¼ë¸”ë¼

- **ì œëª©**: [Reason-before-Retrieve: One-Stage Reflective Chain-of-Thoughts for Training-Free Zero-Shot Composed Image Retrieval](https://arxiv.org/pdf/2412.11077)  
- **í•™íšŒ**: CVPR 2025 (Highlight paperYuanmin Tang et al.)  
- **ì½”ë“œ**: [osrcir (GitHub)](https://github.com/Pter61/osrcir)  
- **í•µì‹¬ í‚¤ì›Œë“œ**: `Composed Image Retrieval`, `Chain-of-Thought`, `One-Stage`, `MLLM`, `Zero-Shot`

---

## ğŸ“Œ 3ì¤„ ìš”ì•½

1. ê¸°ì¡´ì˜ **ì´ë¯¸ì§€+í…ìŠ¤íŠ¸ ì¡°í•© ê²€ìƒ‰(CIR)** ì€ ëŒ€ë¶€ë¶„ **2-Stage êµ¬ì¡°** (ì´ë¯¸ì§€ ìº¡ì…˜ â†’ í…ìŠ¤íŠ¸ ì¶”ë¡ ) ì‚¬ìš©  
2. OSrCIRì€ MLLMì´ Reference ì´ë¯¸ì§€ë¥¼ **ì§ì ‘ reasoningí•˜ì—¬**, í…ìŠ¤íŠ¸ ì—†ì´ **Target ì´ë¯¸ì§€ì˜ íŠ¹ì„± ìì²´ë¥¼ ì¶”ë¡ **  
3. ê²°ê³¼ì ìœ¼ë¡œ ì •í™•ë„/ì†ë„ í–¥ìƒ, **ì‚¬ì „ í•™ìŠµ ì—†ì´ zero-shot inferenceë§Œìœ¼ë¡œ** ì‘ë™ ê°€ëŠ¥

---

## ğŸ” ê¸°ì¡´ CIR êµ¬ì¡°ì˜ í•œê³„

| ë°©ì‹ | êµ¬ì¡° | ë¬¸ì œì  |
|------|------|--------|
| 2-Stage CIR | (1) ì´ë¯¸ì§€ â†’ ìº¡ì…˜ ìƒì„± (2) í…ìŠ¤íŠ¸ â†’ ì¶”ë¡  â†’ ê²€ìƒ‰ | ì´ë¯¸ì§€ ì •ë³´ ì†ì‹¤, reasoning ì˜¤ë¥˜ ë°œìƒ |
| Text-Only Reasoning | Reference ì´ë¯¸ì§€ ì •ë³´ë¥¼ ê°„ì ‘ì ìœ¼ë¡œ ì „ë‹¬ | ì‹œê°ì  ì†ì„± ë°˜ì˜ ì–´ë ¤ì›€ |
| MLLM í™œìš© ë°©ì‹ | ì§ˆë¬¸ ì‘ë‹µìœ¼ë¡œ ê°„ì ‘ reasoning | ì‹œê°„ ì†Œìš”, ì¼ê´€ì„± ë¶€ì¡± |

â†’ ì¦‰, **í…ìŠ¤íŠ¸ë¥¼ ì¤‘ê°„ ë§¤ê°œë¡œ ì‚¼ëŠ” ë°©ì‹ ìì²´ê°€ ë³¸ì§ˆì ì¸ ì •ë³´ ì†ì‹¤ì„ ìœ ë°œ**í•¨.

---


##

# ğŸ“Š Comparison of CIRCO and CIRR Test Data

## ğŸ§¾ Overview

| í•­ëª©                 | CIRCO (Composable Image Retrieval) | CIRR (Composable Image Retrieval on Real life) |
|----------------------|------------------------------------|------------------------------------------------|
| ëª©ì                 | êµ¬ì„± ìš”ì†Œ ê¸°ë°˜ ì´ë¯¸ì§€ ê²€ìƒ‰ (ì¡°í•©ì ) | ì¼ìƒ ì¥ë©´ ê¸°ë°˜ì˜ êµ¬ì„± ì´ë¯¸ì§€ ê²€ìƒ‰              |
| ë°ì´í„° ìœ í˜•         | Synthetic-style + Multi-object     | Real-life ì‚¬ì§„ (ë„ì‹œ, ì¼ìƒ ë“±)                 |
| ì£¼ìš” Task           | Compositional Retrieval            | Reference + Text-based Target Retrieval        |
| ìƒ˜í”Œ êµ¬ì„±           | Query Image + Target Attribute     | Reference Image + Caption                      |
| ì •ë‹µ ìˆ˜             | Top-1 ë˜ëŠ” Top-k (ë‹¨ì¼ ì •ë‹µ)       | Top-1 ë˜ëŠ” Top-k (ë‹¨ì¼ ì •ë‹µ)                   |
| Negative êµ¬ì¡°       | Disentangled Hard Negatives        | Semantically Similar Distractors               |
| ë‚œì´ë„ íŠ¹ì§•         | Attribute ìˆ˜ì¤€ ì¡°í•©ì˜ ë‹¤ì–‘ì„± ë†’ìŒ  | ì¥ë©´ ìœ ì‚¬ë„ ê¸°ë°˜ Distractor í¬í•¨               |
| ì£¼ìš” ì‚¬ìš© ëª©ì       | ëª¨ë¸ì˜ ì¡°í•© ì¼ë°˜í™” ëŠ¥ë ¥ í‰ê°€       | ì‹¤ì œ ìƒí™©ì—ì„œì˜ Text-Image ì¡°í•© ê²€ìƒ‰ í‰ê°€     |

---

## ğŸ“ CIRCO Dataset

- **ì¶œì²˜**: [CIRCO: Compositional Image Retrieval with Complex Object Descriptions](https://arxiv.org/abs/2306.05459)
- **êµ¬ì„±**: ë‹¤ì–‘í•œ ë¬¼ì²´ ì†ì„±ê³¼ ë°°ê²½ ì¡°í•©ìœ¼ë¡œ ìƒì„±ëœ ì¿¼ë¦¬-íƒ€ê¹ƒ ìŒ
- **ì…ë ¥ ì¿¼ë¦¬ ì˜ˆì‹œ**:  
  - ì´ë¯¸ì§€: 'ê°œê°€ ë‚˜ë¬´ ì˜†ì— ìˆìŒ'  
  - ì†ì„± ë³€ê²½: 'ë‚˜ë¬´ â†’ ë²¤ì¹˜'
- **íŠ¹ì§•**: ì‹œê° ê°œì²´ êµ¬ì„± ìš”ì†Œ ë‹¨ìœ„ì˜ ì¡°í•© ëŠ¥ë ¥ í‰ê°€ ê°€ëŠ¥

---

## ğŸ“ CIRR Dataset

- **ì¶œì²˜**: [Compositional Image Retrieval on Real-life images](https://arxiv.org/abs/2104.00613)
- **êµ¬ì„±**: ì‹¤ì œ ì´ë¯¸ì§€ ê¸°ë°˜, ë¬¸ì¥ ì„¤ëª…ê³¼ í•¨ê»˜ ì°¸ì¡° ì´ë¯¸ì§€ ì œê³µ
- **ì…ë ¥ ì¿¼ë¦¬ ì˜ˆì‹œ**:  
  - ì°¸ì¡° ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸ ì„¤ëª…: "ê°™ì€ ì—¬ìê°€ ìˆëŠ”ë° ì˜· ìƒ‰ì´ ë‹¤ë¥´ê³  ë’¤ì— ìˆëŠ” ìë™ì°¨ëŠ” ì—†ìŒ"
- **íŠ¹ì§•**: ì‹¤ì œ ì¥ë©´ì—ì„œì˜ ì˜ë¯¸ ê¸°ë°˜ ì¡°í•© ê²€ìƒ‰ ëŠ¥ë ¥ í‰ê°€

---

## ğŸ§  ìš”ì•½ ì •ë¦¬

- **CIRCO**: êµ¬ì¡°ì , ì¡°í•© ì¼ë°˜í™” ëŠ¥ë ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì¤‘ì .
- **CIRR**: í˜„ì‹¤ ê¸°ë°˜ì˜ ì§ê´€ì ì¸ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸ì— ì¤‘ì .

> ë‘ ë°ì´í„°ì…‹ ëª¨ë‘ V+L ëª¨ë¸ì˜ "ì¡°í•©ì  ì´í•´ì™€ ê²€ìƒ‰ ëŠ¥ë ¥"ì„ í‰ê°€í•˜ëŠ” ë° ì‚¬ìš©ë˜ì§€ë§Œ, **CIRCOëŠ” ë” ë³µì¡í•œ ì¡°í•© íŒ¨í„´**, **CIRRì€ ì‹¤ì œ ì‚¬ì§„ê³¼ ì„¤ëª… ê¸°ë°˜ì˜ ì§ê´€ì  í‰ê°€**ì— ì´ˆì ì„ ë‘¡ë‹ˆë‹¤.



## ğŸŒ± OSrCIRì˜ í•µì‹¬ ì•„ì´ë””ì–´

> â€œ**Reason first. Then retrieve.**â€

- ê¸°ì¡´ CIRì€ â€œRetrieve-and-Reasonâ€ ë°©ì‹  
- **OSrCIRì€ ë°˜ëŒ€ë¡œ â€˜Reason-before-Retrieveâ€™**  
- **MLLMì„ ì‚¬ìš©í•´ ì´ë¯¸ì§€ì—ì„œ ì§ì ‘ target íŠ¹ì„± ì¶”ë¡ **  
- ì´ reasoning ê²°ê³¼(í…ìŠ¤íŠ¸)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Target ì´ë¯¸ì§€ ê²€ìƒ‰ ìˆ˜í–‰

---

## ğŸ”§ OSrCIR ì•„í‚¤í…ì²˜ ìš”ì•½

![arch](https://github.com/OSoMeLab/osrcir/assets/osrcir_arch.png)

- **ì…ë ¥**: (Reference Image, Text Query)
- **Stage 1**: MLLMì„ í™œìš©í•´ Reference ì´ë¯¸ì§€ì— ëŒ€í•´ chain-of-thought ìŠ¤íƒ€ì¼ ì¶”ë¡  ìˆ˜í–‰  
- **Stage 2**: ì¶”ë¡  ê²°ê³¼ë¥¼ í…ìŠ¤íŠ¸ ì¿¼ë¦¬ë¡œ ì •ì œ
- **Stage 3**: ê²€ìƒ‰ í›„ë³´ ì´ë¯¸ì§€ë“¤ê³¼ CLIP ê¸°ë°˜ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ë§¤ì¹­ ìˆ˜í–‰ (zero-shot)

â†’ ì „ì²´ ê³¼ì •ì´ end-to-endë¡œ **ë‹¨ì¼ ë‹¨ê³„(one-stage)** ì—ì„œ ì²˜ë¦¬ë¨

---

## ğŸ§ª ì‹¤í—˜ ê²°ê³¼ ìš”ì•½

> ì£¼ìš” ë²¤ì¹˜ë§ˆí¬ì—ì„œ **ê¸°ì¡´ 2-Stage ë°©ë²•ë“¤ë³´ë‹¤ ì •í™•ë„ + íš¨ìœ¨ ëª¨ë‘ ìš°ìˆ˜**í•œ ì„±ê³¼ ë‹¬ì„±!

| Dataset | Recall@1 (ê¸°ì¡´ SOTA) | OSrCIR | í–¥ìƒí­ |
|---------|-----------------------|--------|--------|
| CIRR    | 52.1 (FashionIQ-CLIP) | **57.4** | +5.3   |
| CIRCO   | 33.8                 | **37.9** | +4.1   |
| FashionIQ | 48.7               | **54.2** | +5.5   |

- **Zero-shot ì„¤ì •**ì—ì„œ ì‹¤í˜„ë¨ (í•™ìŠµ ì—†ì´ inferenceë§Œìœ¼ë¡œ)
- Ablation ê²°ê³¼, reasoningì„ ìƒëµí•˜ë©´ ì„±ëŠ¥ ê¸‰ë½

---

## âœ… ê²°ë¡  ë° ì˜ì˜

- OSrCIRì€ MLLMì˜ ê³ ì°¨ reasoning ëŠ¥ë ¥ì„ CIRì— **ìµœì í™”ëœ ë°©ì‹**ìœ¼ë¡œ ëŒì–´ë‚¸ ëŒ€í‘œì  ì‚¬ë¡€  
- ë³„ë„ í•™ìŠµ ì—†ì´ inferenceë§Œìœ¼ë¡œ ë™ì‘ â†’ **Training-free + Generalizable**
- **Chain-of-Thought reasoningì´ ë‹¨ì¼ ìŠ¤í…Œì´ì§€ retrievalì— ì§ì ‘ ì ìš©ëœ ìµœì´ˆ ì‚¬ë¡€ ì¤‘ í•˜ë‚˜**
- í–¥í›„ VLM ê¸°ë°˜ **íŠœí„°ë§, ê²€ìƒ‰, AGI planning ë“±**ì—ì„œì˜ ì‘ìš© ê°€ëŠ¥ì„± ë§¤ìš° í¼

> â€œRetrieval is not just about matching. Itâ€™s about **reasoning what to match**.â€