---
layout: post
title: "ğŸš€Understanding Wikidata -ë¬´ë£Œë£Œ wiki ë°ì´í„° í™œìš©í•˜ê¸°!!"
author: [DrFirst]
date: 2025-07-20 07:00:00 +0900
categories: [AI, Experiment]
tags: [Wikidata, SPARQL, API, Knowledge Base, Free API]
sitemap :
  changefreq : monthly
  priority : 0.8
---

---

# ğŸš€ Understanding Wikidata - ë¬´ë£Œë¡œ Wiki ë°ì´í„° í™œìš©í•˜ê¸°!!

**Wikidata**ëŠ” ìœ„í‚¤ë¯¸ë””ì–´ ì¬ë‹¨ì´ ìš´ì˜í•˜ëŠ” **ììœ  ì§€ì‹ ê·¸ë˜í”„(Open Knowledge Graph)**ì…ë‹ˆë‹¤.  
ì „ ì„¸ê³„ ì¸ë¬¼, ì¥ì†Œ, ê°œë… ë“±ì— ëŒ€í•œ ì •ë³´ë¥¼ êµ¬ì¡°í™”ëœ ë°©ì‹ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.

> ğŸ§  *"GPTê°€ ì‚¬ìš©í•˜ëŠ” ì„¸ê³„ ì§€ì‹, ìš°ë¦¬ë„ ë¬´ë£Œë¡œ ì“¸ ìˆ˜ ìˆì„ê¹Œ?"*  
> ğŸ‘‰ **ê·¸ ë‹µì´ ë°”ë¡œ Wikidata + SPARQL ì¡°í•©ì…ë‹ˆë‹¤!**

---

## ğŸ“Œ Wikidataë€?

- ìœ„í‚¤ë°±ê³¼ì˜ **ë°ì´í„° ë²„ì „**
- ì „ ì„¸ê³„ ê°œì²´(Entity)ë“¤ì˜ **ì†ì„±(Property)**ê³¼ **ê°’(Value)**ì´ ì •ë¦¬ëœ ê±°ëŒ€í•œ DB
- ì˜ˆì‹œ:  
  - `Q937` = Albert Einstein  
  - `P31` = instance of  
  - `Q5` = human  
  â†’ ì¦‰, "Q937ì€ Q5(human)ì˜ ì¸ìŠ¤í„´ìŠ¤(P31)ì´ë‹¤"

---

## ğŸ› ï¸ SPARQLë¡œ ë°ì´í„° ì§ˆì˜í•˜ê¸°

**SPARQL**ì€ RDF ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìœ„í•œ **ì¿¼ë¦¬ ì–¸ì–´**ì…ë‹ˆë‹¤.  
WikidataëŠ” ìì²´ SPARQL endpointë¥¼ ìš´ì˜í•©ë‹ˆë‹¤.

### â–¶ ê¸°ë³¸ ì˜ˆì œ: ì•„ì¸ìŠˆíƒ€ì¸ì˜ ìƒë…„ì›”ì¼ ì°¾ê¸°

```sparql
SELECT ?person ?personLabel ?birthDate WHERE {
  ?person wdt:P31 wd:Q5;  # ì¸ê°„
          rdfs:label "Albert Einstein"@en;
          wdt:P569 ?birthDate.  # ìƒë…„
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}
LIMIT 1
```

### â–¶ íŒŒì´ì¬ ì½”ë“œë¡œì˜ ê¸°ë³¸ ì˜ˆì œ: ì•„ì¸ìŠˆíƒ€ì¸ì˜ ìƒë…„ì›”ì¼ ì°¾ê¸°

```python
import requests

query = """
SELECT ?person ?personLabel ?birthDate WHERE {
  ?person wdt:P31 wd:Q5;
          rdfs:label "Albert Einstein"@en;
          wdt:P569 ?birthDate.
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}
LIMIT 1
"""

url = "https://query.wikidata.org/sparql"
headers = {"Accept": "application/sparql-results+json"}
response = requests.get(url, headers=headers, params={"query": query})

data = response.json()
for result in data["results"]["bindings"]:
    print(result["personLabel"]["value"], "-", result["birthDate"]["value"])
```

ê²°ê³¼ëŠ”!?
`Albert Einstein - 1879-03-14T00:00:00Z`


---

## ğŸŒ ì–´ë–¤ ë°ì´í„°ê¹Œì§€ ì–»ì„ ìˆ˜ ìˆë‚˜ìš”?

WikidataëŠ” ìœ„í‚¤ë°±ê³¼ì˜ **êµ¬ì¡°í™”ëœ ë°±ì—”ë“œ**ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤:

- ğŸ‘¤ **ì¸ë¬¼ ì •ë³´**: ìƒë…„ì›”ì¼, ì§ì—…, êµ­ì , ì—…ì  ë“±  
- ğŸ—ºï¸ **êµ­ê°€ ë° ì§€ë¦¬ ì •ë³´**: ìˆ˜ë„, ì¸êµ¬ ìˆ˜, ìœ„ì¹˜, êµ­ê°€ì½”ë“œ  
- ğŸ¬ **ì˜í™” ì •ë³´**: ê°ë…, ê°œë´‰ì¼, ë°°ìš° ëª©ë¡, ì œì‘êµ­ê°€  
- ğŸ“ **í•™ìˆ  ê°œë…**: ìˆ˜í•™ ê³µì‹, ê³¼í•™ ì´ë¡ , ì—­ì‚¬ì  ì‚¬ê±´, ë¬¸í™”ì¬  
- ğŸ§ª **ê³¼í•™ ë°ì´í„°**: í™”í•™ ë¬¼ì§ˆ, ìƒë¬¼ ì¢…, ìœ ì „ì ì •ë³´ ë“±  

> ğŸ‘‰ **ìœ„í‚¤ë°±ê³¼ì— ìš”ì•½ ì •ë³´ë¡œ ë³´ì´ëŠ” ëŒ€ë¶€ë¶„ì˜ structured dataëŠ” Wikidataì— ì¡´ì¬**í•©ë‹ˆë‹¤.

---

## âœ… ì™œ ìœ ìš©í•œê°€?

| ì´ìœ           | ì„¤ëª… |
|---------------|------|
| ğŸ’¸ **ë¬´ë£Œ**   | CC0 ë¼ì´ì„ ìŠ¤ â†’ ìƒì—…ì  í™œìš© ê°€ëŠ¥ |
| ğŸŒ **ë‹¤êµ­ì–´** | 300+ ì–¸ì–´ ë¼ë²¨ ì œê³µ (ex. í•œêµ­ì–´, ì˜ì–´ ë“±) |
| ğŸ”— **ì—°ê²°ì„±** | ê°œì²´(Entity) ê°„ ê´€ê³„(RDF triple)ë¡œ ì—°ê²°ë¨ |
| âš¡ **ë¹ ë¦„**   | SQLì´ ì•„ë‹Œ SPARQL â†’ ì›í•˜ëŠ” ê´€ê³„í˜• ì¿¼ë¦¬ ê°€ëŠ¥ |
| ğŸ¤– **AI í™œìš©** | LLM ì „ì²˜ë¦¬, RAG ë¬¸ì„œ ìƒì„±, ì§€ì‹ ê¸°ë°˜ êµ¬ì¶•ì— ìµœì  |

---

## â— ë‹¨ì ì€?

WikidataëŠ” ê°•ë ¥í•œ ì˜¤í”ˆ ì§€ì‹ ê·¸ë˜í”„ì´ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì€ ì œì•½ë„ ì¡´ì¬í•©ë‹ˆë‹¤:  
> íŠ¹í•˜ SPARQLì€ ë„ˆë¬´ ì–´ë ¤ì›Œë³´ì—¬ìš”!!  

| í•œê³„ | ì„¤ëª… |
|------|------|
| ğŸ§¹ **ì •ë³´ ì •í™•ë„** | ëˆ„êµ¬ë‚˜ í¸ì§‘ ê°€ëŠ¥ â†’ ì¼ë¶€ ì •ë³´ëŠ” ì˜¤ë¥˜ ë˜ëŠ” ê²€ì¦ ë¶€ì¡± |
| ğŸ” **ë°ì´í„° ëˆ„ë½** | íŠ¹íˆ ë¹„ì˜ì–´ê¶Œì´ë‚˜ ìµœì‹  ì •ë³´ì˜ ë°˜ì˜ì´ ëŠ¦ì„ ìˆ˜ ìˆìŒ |
| ğŸ’¬ **ë¹„ì •í˜• ì •ë³´ ë¶€ì¡±** | ì„¤ëª…í˜• ë¬¸ì¥ì´ë‚˜ ìƒì„¸í•œ ì„œìˆ ì€ í¬í•¨ë˜ì§€ ì•ŠìŒ (â†’ Wikipedia ì°¸ê³  í•„ìš”) |
| ğŸ“š **SPARQL ëŸ¬ë‹ì»¤ë¸Œ** | ì¿¼ë¦¬ ì–¸ì–´ê°€ ìƒì†Œí•  ìˆ˜ ìˆìŒ (â†’ í•™ìŠµ í•„ìš”) |
| ğŸ“¦ **ì •ë³´ ê°±ì‹  ì£¼ê¸°** | APIë¥¼ í†µí•´ ì‹¤ì‹œê°„ í¸ì§‘ ì •ë³´ëŠ” ë°˜ì˜ë˜ì§€ë§Œ, ë°°ì¹˜ì²˜ë¦¬ ê¸°ë°˜ í™œìš© ì‹œ ì§€ì—° ê°€ëŠ¥ |

### ë‹¨ì ì„ í•´ê²°í•˜ê¸°!!! - LLMì™€ ì—°ê²°í•´ì„œ ìë™ìœ¼ë¡œ SQLRQLì„ ì§œë²„ë ¤ìš”!!

íŒŒì´ì¬ìœ¼ë¡œ ì˜ˆì”¨!!

```python
import requests
import json
import openai

openai_client = openai.OpenAI()

user_q = "ìˆ˜í•™ì ì•„ì¸ìŠˆíƒ€ì¸ì˜ ìƒì¼ì€ ì–¸ì œì•¼?"
prompt = f"""
You are a SPARQL expert. Convert the following user question into a valid SPARQL query using Wikidata schema. 
Only return the query in SPARQL syntax.

Question: "{user_q}"
"""

response = openai_client.chat.completions.create(
model="gpt-4o-mini",  # You can use "gpt-4" or "gpt-3.5-turbo"
messages=[
    {"role": "user", "content": prompt}
],
max_tokens=150,
temperature=0.7
)
query = response.choices[0].message.content.strip()
query = query.replace('```','').split('sparql')[-1]
print(f"Generated Query : {query}")
# 2. SPARQL ì¿¼ë¦¬ë¥¼ Wikidataì— ì „ì†¡

url = "https://query.wikidata.org/sparql"
headers = {"Accept": "application/sparql-results+json"}
response = requests.get(url, headers=headers, params={"query": query})
data = response.json()

# 3. ê²°ê³¼ ì¶œë ¥
bindings = data["results"]["bindings"]
result_lines = []
for b in bindings:
    line = " Â· ".join([f"{k}: {v['value']}" for k, v in b.items()])
    result_lines.append(line)
print("FINAL RESULTS")
print("\n".join(result_lines))
```
---

## âœ¨ ë§ˆë¬´ë¦¬

- "**í¬ë¡¤ë§ ì—†ì´, ì „ ì„¸ê³„ ì§€ì‹ ê·¸ë˜í”„ë¥¼ ë‹¤ë£¨ëŠ” ë²•!**"  
- ë°”ë¡œ **Wikidata + SPARQL ì¡°í•©**ìœ¼ë¡œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- llmì´ë‘ ì—°ê²°ì‹œí‚¤ë©´!! wikiì—ì„œ ì§€ì‹ì„ ì°¾ì•„ì„œ ì •í™•í•œ ë‹µë³€ì´ ê°€ëŠ¥í•´ìš”!!

---
